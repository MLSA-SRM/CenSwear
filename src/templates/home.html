{% extends 'base.html' %} {% block content %}

<section class="hero">
    <div class="container">
        <div class="left-col">
            <p class="overline">A Python based profanity filter</p>
            <h1>You curse, we censor!</h1>
            <h2>CenSwear is a simple, free, and reliable language understanding API designed to recognize and remove profanity, obscenity, and other unwanted text. It’s a technology you can swear by!</h2>

            <div class="hero-cta">
                <h1>Try it out!</h1>
                <img src="static/assets/steps-illustration.svg" class="hero-steps-desktop-img" alt="step by step illustration on how to try out the demo">
                <img src="static/assets/steps-illustration-mobile.svg" class="hero-steps-img" alt="step by step illustration on how to try out the demo">

            </div>
        </div>
    </div>
</section>
<section class="demo-area">
    <p id="demo-input-error" style="color: red; margin: 0 auto; text-align: center;"></p><br>
    <div class="demo-box">
        <input id="demo-input" type="text" class="demo-input" placeholder="Enter some text here.. " autocomplete="off" />
        <button id="demo-submit" type="submit"  onclick="censor()"><img id="submit-btn-svg" alt="submit button" src="static/assets/button.svg"></button>
        <script>
            var demo_input = document.getElementById('demo-input');
            function censor() {
                var myform = document.getElementById('demo-submit');
                var demo_input = document.getElementById('demo-input');
                var demo_input_error = document.getElementById('demo-input-error');
                var submit_btn_svg = document.getElementById('submit-btn-svg');
                if(demo_input.value !== ""){
                    myform.disabled = true;
                    demo_input_error.innerHTML = "";
                    //submit_btn_svg.src = "static/assets/Rolling-0.6s-57px.svg";
                    fetch(window.location.origin + '/filter/' + escape(demo_input.value))
                        .then((response) => {
                            return response.text();
                        })
                        .then((data) => {
                            console.log(data);
                            demo_input.placeholder = data;
                            demo_input.value = "";
                            demo_input.classList.add("white-placeholder");
                            //submit_btn_svg.src = "static/assets/button.svg";
                            myform.disabled = false;
                        });
                }
                else
                {
                    myform.disabled = false;
                    //submit_btn_svg.src = "static/assets/button.svg";
                    demo_input_error.innerHTML = "Please enter a valid input";
                }
            }
            demo_input.addEventListener("keydown", function (e) {
                if (e.code === "Enter") {  //checks whether the pressed key is "Enter"
                    censor();
                }
            });
        </script>
    </div>
</section>

<section class="api-info-section">
    <div id="copy-text" style="display: none;" class="copy-notification">Copied to clipboard</div>
    <div class="container info-div">

        <ul class="api-info-panel">
            <h1>Submission API</h1>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mi donec integer donec pellentesque velit euismod vivamus. Aliquet viverra turpis mattis justo. Leo nisi, lacus netus elementum.</p>
        </ul>
    </div>

    <div class="container code-div">

        <div class="tab">
        <button class="tablinks" onclick="show('Python')" autofocus="autofocus">Python</button>
        <button class="tablinks" onclick="show('Tines')">Tines</button>
        <button class="tablinks" onclick="show('Curl')">Curl</button>
      </div>
      
      <div id="Python" class="tabcontent" style="display: block;">

        <img src="static/assets/Copy-Icon.svg" class="copy-icon" alt="Copy the associated code snippet" onclick='copyElementText("python-code")'>

        <h1 id="python-code">
            import requests<br>
            sentance = "You are shit"<br>
            url = "https://profanity-filter-api.azurewebsites.net/filter/{}".format(sentance)<br>
            r = requests.get(url)<br>
            print(r.status_code)<br>
            print(r.text)
        </h1>
      </div>
      
      <div id="Tines" class="tabcontent">

        <img src="static/assets/Copy-Icon.svg" class="copy-icon" alt="Copy the associated code snippet" onclick='copyElementText("tines-code")'>

        <h1 id="tines-code">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mi donec integer donec pellentesque velit euismod vivamus. Aliquet viverra turpis mattis justo. Leo nisi, lacus netus elementum.
        </h1>
            
      </div>
      
      <div id="Curl" class="tabcontent">

        <img src="static/assets/Copy-Icon.svg" class="copy-icon" alt="Copy the associated code snippet" onclick='copyElementText("curl-code")'>

        <h1 id="curl-code">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mi donec integer donec pellentesque velit euismod vivamus. Aliquet viverra turpis mattis justo. Leo nisi, lacus netus elementum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mi donec integer donec pellentesque velit euismod vivamus. Aliquet viverra turpis mattis justo. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mi donec integer donec pellentesque velit euismod vivamus.
        </h1>
      </div>

      <script>
        function show(lang) {
            var pythonCode =  document.getElementById("Python");
            var tinesCode =  document.getElementById("Tines");
            var curlCode =  document.getElementById("Curl");
            switch(lang) {
                case 'Python':
                    pythonCode.style.display="block";
                    tinesCode.style.display="none";
                    curlCode.style.display="none";
                    break;
                case 'Tines':
                    pythonCode.style.display="none";
                    tinesCode.style.display="block";
                    curlCode.style.display="none";
                    break;
                case 'Curl':
                    pythonCode.style.display="none";
                    tinesCode.style.display="none";
                    curlCode.style.display="block";
                    break;

            }
        }
        function copyElementText(id) {
            var text = document.getElementById(id).innerText;
            var elem = document.createElement("textarea");
            var copytext = document.getElementById("copy-text");
            document.body.appendChild(elem);
            elem.value = text;
            elem.select();
            document.execCommand("copy");
            document.body.removeChild(elem);
            copytext.style.display="block";
            setTimeout(function(){ var copytext = document.getElementById("copy-text");  copytext.style.display="none"; }, 2000);
        }
        </script>
    </div>  


</section>


<section class="features-section ">
    <div class="container ">
        <ul class="features ">
            <li class="card-1-message ">
                <img src="static/assets/message-alert.svg " alt="Feature 1 Profanity detection ">
                <h1>Profanity detection and filtering from texts</h1>
                <p class="card-feature-info ">The API detects and censors swear words and profanities from chat and text messages based on an internal profanity list.</p>
            </li>
            <li class="card-2-mail ">
                <img src="static/assets/mail-alert.svg " alt="Feature 2 Real-time mail censoring ">
                <h1>Real-time censoring of expletives</h1>
                <p class="card-feature-info ">The web service also provides real-time redaction of swear words while emails and documents are being typed.</p>
            </li>
            <li class="card-3-reliability ">
                <img src="static/assets/care.svg " alt="Feature 3 Reliabilty and Accuracy ">
                <h1>Fast, accurate, reliable</h1>
                <p class="card-feature-info ">CenSwear ensures that not one single offensive message slips through its filters, creating a safe and productive environment for the users.</p>
            </li>
            <li class="card-4-customer ">
                <img src="static/assets/customer.svg " alt="Feature 4 Customer care and fast response ">
                <h1>Time Saving</h1>
                <p class="card-feature-info ">We’ve designed CenSwear in a way that helps eliminate the nuisance of having to maintain your own profanity database.</p>
            </li>
        </ul>
    </div>
</section>

{% endblock content %}